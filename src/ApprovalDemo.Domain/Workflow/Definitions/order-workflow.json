{
  "id": "52911fc4b0d3bf51",
  "definitionId": "23c253cec175fb66",
  "name": "OrderWorkflow",
  "description": "Order Workflow",
  "createdAt": "2024-01-23T14:14:51.2568638+00:00",
  "version": 13,
  "toolVersion": "3.0.0.0",
  "variables": [],
  "inputs": [],
  "outputs": [],
  "outcomes": [],
  "customProperties": {},
  "isReadonly": false,
  "isLatest": true,
  "isPublished": true,
  "options": {
    "usableAsActivity": false,
    "autoUpdateConsumingWorkflows": false
  },
  "root": {
    "type": "Elsa.Flowchart",
    "version": 1,
    "id": "9bfc5baf7543e9e3",
    "nodeId": "Workflow1:9bfc5baf7543e9e3",
    "metadata": {},
    "customProperties": {
      "source": "FlowchartJsonConverter.cs:45",
      "notFoundConnections": [],
      "canStartWorkflow": false,
      "runAsynchronously": false
    },
    "activities": [
      {
        "orderId": {
          "typeName": "String",
          "expression": {
            "type": "CSharp",
            "value": "CorrelationId"
          }
        },
        "status": {
          "typeName": "ApprovalDemo.Orders.OrderStatusType, ApprovalDemo.Domain.Shared",
          "expression": {
            "type": "Literal",
            "value": "Detached"
          }
        },
        "newStatus": null,
        "item": null,
        "id": "67b65016a65878e0",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:67b65016a65878e0",
        "name": "SetOrderStatusToDetached",
        "type": "ApprovalDemo.Orders.Workflow.SetOrderStatusActivity",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 144.6354217529297,
              "y": 39.728010177612305
            },
            "size": {
              "width": 219.27084350585938,
              "height": 49.333335876464844
            }
          },
          "displayText": "Set Order status detached"
        }
      },
      {
        "permission": null,
        "actions": {
          "typeName": "String[]",
          "expression": {
            "type": "Object",
            "value": "[\u0022The action does nothing\u0022]"
          }
        },
        "result": null,
        "id": "a0609d928d8aa99",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:a0609d928d8aa99",
        "name": "PendingDetached",
        "type": "ApprovalDemo.ApprovalItems.Workflow.AuthorizedUserTask",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 482.17189025878906,
              "y": 39.728010177612305
            },
            "size": {
              "width": 245.80209350585938,
              "height": 49.333335876464844
            }
          },
          "displayText": "Detached - Pending Alteration"
        }
      },
      {
        "orderId": {
          "typeName": "String",
          "expression": {
            "type": "CSharp",
            "value": "CorrelationId"
          }
        },
        "status": {
          "typeName": "ApprovalDemo.Orders.OrderStatusType, ApprovalDemo.Domain.Shared",
          "expression": {
            "type": "Literal",
            "value": "Shipped"
          }
        },
        "newStatus": null,
        "item": null,
        "id": "897c721b8e58de43",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:897c721b8e58de43",
        "name": "SetOrderStatusShipped",
        "type": "ApprovalDemo.Orders.Workflow.SetOrderStatusActivity",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 3521.082260131836,
              "y": 134.12268829345703
            },
            "size": {
              "width": 211.89584350585938,
              "height": 49.45602035522461
            }
          },
          "displayText": "Set Order Status Shipped"
        }
      },
      {
        "permission": {
          "typeName": "String",
          "expression": {
            "type": "Literal",
            "value": "ApprovalDemo.Orders.Receive"
          }
        },
        "actions": {
          "typeName": "String[]",
          "expression": {
            "type": "Object",
            "value": "[\u0022Receive Order\u0022]"
          }
        },
        "result": null,
        "id": "c470a9be738010a7",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:c470a9be738010a7",
        "name": "PendingDelivery",
        "type": "ApprovalDemo.ApprovalItems.Workflow.AuthorizedUserTask",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 3807.5458068847656,
              "y": 134.12268829345703
            },
            "size": {
              "width": 151.03125,
              "height": 49.45602035522461
            }
          },
          "displayText": "Pending Delivery"
        }
      },
      {
        "orderId": {
          "typeName": "String",
          "expression": {
            "type": "CSharp",
            "value": "CorrelationId"
          }
        },
        "status": {
          "typeName": "ApprovalDemo.Orders.OrderStatusType, ApprovalDemo.Domain.Shared",
          "expression": {
            "type": "Literal",
            "value": "Delivered"
          }
        },
        "newStatus": null,
        "item": null,
        "id": "5361f06983f76a70",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:5361f06983f76a70",
        "name": "SetOrderStatusDelivered",
        "type": "ApprovalDemo.Orders.Workflow.SetOrderStatusActivity",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 4072.7853927612305,
              "y": 134.12268829345703
            },
            "size": {
              "width": 169.4479217529297,
              "height": 49.45602035522461
            }
          },
          "displayText": "Set Order Delivered"
        }
      },
      {
        "text": {
          "typeName": "String",
          "expression": {
            "type": "Literal",
            "value": "Order has been delivered"
          }
        },
        "id": "26cc953886bc6d04",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:26cc953886bc6d04",
        "name": "WriteDelivered",
        "type": "Elsa.WriteLine",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 4351.74893951416,
              "y": 134.12268829345703
            },
            "size": {
              "width": 178.4791717529297,
              "height": 49.45602035522461
            }
          },
          "displayText": "Order complete"
        }
      },
      {
        "text": {
          "typeName": "String",
          "expression": {
            "type": "Literal",
            "value": "Order has been cancelled"
          }
        },
        "id": "a313d5342fe9e2b6",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:a313d5342fe9e2b6",
        "name": "WriteOrderCancelled",
        "type": "Elsa.WriteLine",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 2024.2436904907227,
              "y": 39.728010177612305
            },
            "size": {
              "width": 249.8854217529297,
              "height": 49.45602035522461
            }
          },
          "displayText": "Order has been cancelled"
        }
      },
      {
        "permission": {
          "typeName": "String",
          "expression": {
            "type": "Literal",
            "value": "ApprovalDemo.Orders.Ship"
          }
        },
        "actions": {
          "typeName": "String[]",
          "expression": {
            "type": "Object",
            "value": "[\u0022Ship order\u0022]"
          }
        },
        "result": null,
        "id": "e041e60d0923ebbe",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:e041e60d0923ebbe",
        "name": "PendingShipping",
        "type": "ApprovalDemo.ApprovalItems.Workflow.AuthorizedUserTask",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 3231.6968383789062,
              "y": 134.12268829345703
            },
            "size": {
              "width": 156.875,
              "height": 49.45602035522461
            }
          },
          "displayText": "Pending Shipping"
        }
      },
      {
        "id": "5441b9aa365b3d3e",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:5441b9aa365b3d3e",
        "name": "StartActivity",
        "type": "Elsa.Start",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 144.6354217529297,
              "y": 134.12268829345703
            },
            "size": {
              "width": 101.875,
              "height": 49.45602035522461
            }
          },
          "displayText": "Start"
        }
      },
      {
        "text": {
          "typeName": "String",
          "expression": {
            "type": "Literal",
            "value": "Starting workflow - from blobs"
          }
        },
        "id": "5220f2b3f9536d99",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:5220f2b3f9536d99",
        "name": "StartWorkflowOutput",
        "type": "Elsa.WriteLine",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 482.17189025878906,
              "y": 134.12268829345703
            },
            "size": {
              "width": 140,
              "height": 49.333335876464844
            }
          }
        }
      },
      {
        "orderId": {
          "typeName": "String",
          "expression": {
            "type": "CSharp",
            "value": "CorrelationId"
          }
        },
        "status": {
          "typeName": "ApprovalDemo.Orders.OrderStatusType, ApprovalDemo.Domain.Shared",
          "expression": {
            "type": "Literal",
            "value": "New"
          }
        },
        "newStatus": null,
        "item": null,
        "id": "e58c09ccab528e81",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:e58c09ccab528e81",
        "name": "SetOrderStatusNew",
        "type": "ApprovalDemo.Orders.Workflow.SetOrderStatusActivity",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 813.4004898071289,
              "y": 134.12268829345703
            },
            "size": {
              "width": 206.6551055908203,
              "height": 49.45602035522461
            }
          },
          "displayText": "Set Order Status New"
        }
      },
      {
        "text": {
          "typeName": "String",
          "expression": {
            "type": "Literal",
            "value": "Status set to New"
          }
        },
        "id": "629a2dd6c7cc7ae5",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:629a2dd6c7cc7ae5",
        "name": "WorkflowStatusSetToNewOutput",
        "type": "Elsa.WriteLine",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 1091.2072143554688,
              "y": 134.12268829345703
            },
            "size": {
              "width": 138.95834350585938,
              "height": 49.333335876464844
            }
          }
        }
      },
      {
        "permission": {
          "typeName": "String",
          "expression": {
            "type": "Literal",
            "value": "ApprovalDemo.Orders.Submit"
          }
        },
        "actions": {
          "typeName": "String[]",
          "expression": {
            "type": "Object",
            "value": "[\u0022Submit Order\u0022,\u0022Cancel Order\u0022]"
          }
        },
        "result": null,
        "id": "183981b50040bea1",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:183981b50040bea1",
        "name": "PendingCreateOrder",
        "type": "ApprovalDemo.ApprovalItems.Workflow.AuthorizedUserTask",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": true,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 1365.1863861083984,
              "y": 134.12268829345703
            },
            "size": {
              "width": 199,
              "height": 49.45602035522461
            }
          },
          "displayText": "Pending Order Creation"
        }
      },
      {
        "permission": {
          "typeName": "String",
          "expression": {
            "type": "Literal",
            "value": "ApprovalDemo.Orders.Prepare"
          }
        },
        "actions": {
          "typeName": "String[]",
          "expression": {
            "type": "Object",
            "value": "[\u0022Mark Prepared\u0022,\u0022Return for correction\u0022]"
          }
        },
        "result": null,
        "id": "87dd9305ff0694de",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:87dd9305ff0694de",
        "name": "PendingOrderPreparation",
        "type": "ApprovalDemo.ApprovalItems.Workflow.AuthorizedUserTask",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 2654.691619873047,
              "y": 191.35069847106934
            },
            "size": {
              "width": 144.67709350585938,
              "height": 49.45602035522461
            }
          },
          "displayText": "Preparing Order"
        }
      },
      {
        "orderId": {
          "typeName": "String",
          "expression": {
            "type": "CSharp",
            "value": "CorrelationId"
          }
        },
        "status": {
          "typeName": "ApprovalDemo.Orders.OrderStatusType, ApprovalDemo.Domain.Shared",
          "expression": {
            "type": "Literal",
            "value": "Preparing"
          }
        },
        "newStatus": null,
        "item": null,
        "id": "6d1081820a122c41",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:6d1081820a122c41",
        "name": "SetOrderStatusPreparing",
        "type": "ApprovalDemo.Orders.Workflow.SetOrderStatusActivity",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 2365.7697372436523,
              "y": 191.35069847106934
            },
            "size": {
              "width": 223.1666717529297,
              "height": 49.45602035522461
            }
          },
          "displayText": "Set Order Status Preparing"
        }
      },
      {
        "orderId": {
          "typeName": "String",
          "expression": {
            "type": "CSharp",
            "value": "CorrelationId"
          }
        },
        "status": {
          "typeName": "ApprovalDemo.Orders.OrderStatusType, ApprovalDemo.Domain.Shared",
          "expression": {
            "type": "Literal",
            "value": "Cancelled"
          }
        },
        "newStatus": null,
        "item": null,
        "id": "f5c538d186c706f7",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:f5c538d186c706f7",
        "name": "SetOrderStatusCancelled",
        "type": "ApprovalDemo.Orders.Workflow.SetOrderStatusActivity",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 1681.9936828613281,
              "y": 39.728010177612305
            },
            "size": {
              "width": 224.61459350585938,
              "height": 49.45602035522461
            }
          },
          "displayText": "Set Order Status Cancelled"
        }
      },
      {
        "orderId": {
          "typeName": "String",
          "expression": {
            "type": "CSharp",
            "value": "CorrelationId"
          }
        },
        "item": null,
        "result": null,
        "id": "1341e9c7d65d264",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:1341e9c7d65d264",
        "name": "GetOrderActivity",
        "type": "ApprovalDemo.Orders.Workflow.GetOrderActivity",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 1681.9936828613281,
              "y": 134.12268829345703
            },
            "size": {
              "width": 157.42709350585938,
              "height": 49.333335876464844
            }
          }
        }
      },
      {
        "condition": {
          "typeName": "Boolean",
          "expression": {
            "type": "CSharp",
            "value": "((ApprovalDemo.Orders.Order)Output.LastResult).IsHot"
          }
        },
        "id": "c0a8ee6e9820857e",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:c0a8ee6e9820857e",
        "name": "FlowDecision1",
        "type": "Elsa.FlowDecision",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 1980,
              "y": 380
            },
            "size": {
              "width": 129.1875,
              "height": 49.333335876464844
            }
          }
        }
      },
      {
        "orderId": {
          "typeName": "String",
          "expression": {
            "type": "CSharp",
            "value": "CorrelationId"
          }
        },
        "status": {
          "typeName": "ApprovalDemo.Orders.OrderStatusType, ApprovalDemo.Domain.Shared",
          "expression": {
            "type": "Literal",
            "value": "Shipping"
          }
        },
        "newStatus": null,
        "item": null,
        "id": "2170a412ff164d34",
        "nodeId": "Workflow1:9bfc5baf7543e9e3:2170a412ff164d34",
        "name": "SetOrderStatusShipping",
        "type": "ApprovalDemo.Orders.Workflow.SetOrderStatusActivity",
        "version": 1,
        "customProperties": {
          "canStartWorkflow": false,
          "runAsynchronously": false
        },
        "metadata": {
          "designer": {
            "position": {
              "x": 2840,
              "y": 20
            },
            "size": {
              "width": 216.2291717529297,
              "height": 49.45602035522461
            }
          },
          "displayText": "Set Order Status Shipping"
        }
      }
    ],
    "connections": [
      {
        "source": {
          "activity": "1341e9c7d65d264",
          "port": "Done"
        },
        "target": {
          "activity": "6d1081820a122c41",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "183981b50040bea1",
          "port": "Submit Order"
        },
        "target": {
          "activity": "1341e9c7d65d264",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "e58c09ccab528e81",
          "port": "Done"
        },
        "target": {
          "activity": "629a2dd6c7cc7ae5",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "629a2dd6c7cc7ae5",
          "port": "Done"
        },
        "target": {
          "activity": "183981b50040bea1",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "5441b9aa365b3d3e",
          "port": "Done"
        },
        "target": {
          "activity": "5220f2b3f9536d99",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "5220f2b3f9536d99",
          "port": "Done"
        },
        "target": {
          "activity": "e58c09ccab528e81",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "67b65016a65878e0",
          "port": "Done"
        },
        "target": {
          "activity": "a0609d928d8aa99",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "e041e60d0923ebbe",
          "port": "Ship order"
        },
        "target": {
          "activity": "897c721b8e58de43",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "897c721b8e58de43",
          "port": "Done"
        },
        "target": {
          "activity": "c470a9be738010a7",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "c470a9be738010a7",
          "port": "Receive Order"
        },
        "target": {
          "activity": "5361f06983f76a70",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "5361f06983f76a70",
          "port": "Done"
        },
        "target": {
          "activity": "26cc953886bc6d04",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "183981b50040bea1",
          "port": "Cancel Order"
        },
        "target": {
          "activity": "f5c538d186c706f7",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "f5c538d186c706f7",
          "port": "Done"
        },
        "target": {
          "activity": "a313d5342fe9e2b6",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "6d1081820a122c41",
          "port": "Done"
        },
        "target": {
          "activity": "87dd9305ff0694de",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "87dd9305ff0694de",
          "port": "Mark Prepared"
        },
        "target": {
          "activity": "2170a412ff164d34",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "87dd9305ff0694de",
          "port": "Return for correction"
        },
        "target": {
          "activity": "183981b50040bea1",
          "port": "In"
        }
      },
      {
        "source": {
          "activity": "2170a412ff164d34",
          "port": "Done"
        },
        "target": {
          "activity": "e041e60d0923ebbe",
          "port": "In"
        }
      }
    ]
  }
}